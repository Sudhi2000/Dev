<div *ngFor="let theme of groupedData" class="theme-section">
    <!-- Theme Name -->
    <!-- <div class="theme-header">
        <h3>{{ theme.theme }}</h3>
    </div> -->
    <div class="row">
        <h6 class="mt-2 mb-2">
            <i class="feather icon-layers me-2"></i>
            {{ theme.theme }}
            <!-- <ngb-progressbar ngbTooltip="Titles Having Entries"
            class="ms-auto"
            [value]="getCompletionPercentage(theme)||0"
            type="info"
            [showValue]="true"
            style="width: 40%;"
          >
            {{ getCompletionPercentage(theme) }}%
          </ngb-progressbar> -->
        </h6>

    </div>
    <ngb-accordion [formGroup]="socialDisclosureForm" [closeOthers]="false">
        <ngb-panel *ngFor="let title of theme.titles" [type]="'hidden'">
            <ng-template ngbPanelTitle>
                <div class="accordion-button custom-header">
                    <div class="col-md-8">
                        <span>{{ title.title }}</span>
                    </div>
                    <div class="col-md-4 d-flex justify-content-end">
                        <!-- Check if the title has a corresponding key in titleKeyMapping and show the bookmark icon -->
                        <ng-container *ngIf="hasDataForTitle(title.title)">
                            <i class="material-icons text-success" style="font-size: 20px;">bookmark</i>
                        </ng-container>
                    </div>
                </div>
            </ng-template>

            <!-- #Title :Employee Details -->
            <ng-template *ngIf="title.title==='Employee Details'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeDetails(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employee Details</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>Employees</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of employeeDetails.concat(filteredEmployeeDetails);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.employees }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyEmployeeDetails(item, title.reference_id,i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeDetails(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeDetails(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>

                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="employee_details_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitEmployeeDetails('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                        <!-- <button (click)="submitEmployeeDetails('Submitted for Review',title)"
                          *ngIf="isButtonVisible(theme)" type="button"
                        class="btn btn-success">
                        <i class="feather icon-send btn-icon-prepend"></i>
                        Submit
                    </button>

                    <div *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
                        class="btn-group" ngbDropdown role="group">
                        <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle>Review Status</button>
                        <div ngbDropdownMenu>
                            <button (click)="updateEmployeeDetailsStatus('Submitted for Approval',title)"
                                ngbDropdownItem>Review Passed</button>
                            <button (click)="updateEmployeeDetailsStatus('Review Failed',title)" ngbDropdownItem>Review
                                Failed</button>
                        </div>
                    </div>

                    <div *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
                        class="btn-group" ngbDropdown role="group">
                        <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle>Approval Status</button>
                        <div ngbDropdownMenu>
                            <button (click)="updateEmployeeDetailsStatus('Approved',title)"
                                ngbDropdownItem>Approved</button>
                            <button (click)="updateEmployeeDetailsStatus('Rejected',title)"
                                ngbDropdownItem>Rejected</button>
                        </div>
                    </div> -->
                    </div>

                </div>
            </ng-template>
            <!-- #Title :New Hire -->
            <ng-template *ngIf="title.title==='New Hires'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNewEmployeeHire(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add New Employee Hires</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>New Employee Hires</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newEmployeeHire.concat(filteredEmployeeHires);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.new_employee_hires }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeHire(item,title.reference_id,i)" ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeHire(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeHire(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNewWorkerHire(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add New Worker Hires</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>New Worker Hires</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newWorkerHire.concat(filteredWorkerHires);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.new_worker_hires }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerHire(item,title.reference_id, i)" ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerHire(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerHire(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>

                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="new_hire_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitNewHire('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>

                </div>
            </ng-template>
            <!-- #Title :Turnover -->
            <ng-template *ngIf="title.title==='Turnover'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeTurnover(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employee Turnover</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>Employee Turnover</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newEmployeeTurnover.concat(filteredEmployeeTurnover);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.employee_turnover }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeTurnover(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeTurnover(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeTurnover(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNewWorkerTurnover(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Worker Turnover</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>Worker Turnover</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newWorkerTurnover.concat(filteredWorkerTurnover);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.worker_turnover }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerTurnover(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerTurnover(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerTurnover(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="turnover_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitTurnover('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>

                </div>
            </ng-template>
            <!-- #Title :Training on Skill Upgradation -->
            <ng-template *ngIf="title.title==='Training on Skill Upgradation'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeSkillUpgradetraining(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employees - Number of individuals trained</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Employee Category by Level</th>
                                <th>Employee Category by function</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeSkillUpgradation.concat(filteredEmployeeSkillupgradation);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-3">{{ item.employee_category_by_function }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeSkillUpgradetraining(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeSkillUpgradetraining(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeSkillUpgradetraining(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNewWorkerSkillUpgradetraining(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Workers - Number of individuals trained</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>

                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newWorkersSkillUpgradation.concat(filteredWorkersSkillupgradation);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.male }}</td>
                                    <td class="col-sm-3">{{ item.female }}</td>
                                    <td class="col-sm-3">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerSkillUpgradetraining(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerSkillUpgradetraining(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerSkillUpgradetraining(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="skill_upgradation_training_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitSkillUpgradetraining('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>

                </div>
            </ng-template>
            <!-- #Title :Employee Performance and Career Development Reviews -->
            <ng-template *ngIf="title.title==='Employee Performance and Career Development Reviews'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeePerfomanceReview(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Number of employees receiving regular performance and career development
                            reviews</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Employee Category by Level</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeePerfomanceReview.concat(filteredEmployeePerfomanceReview);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-2">{{ item.male }}</td>
                                    <td class="col-sm-2">{{ item.female }}</td>
                                    <td class="col-sm-2">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeePerfomanceReview(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeePerfomanceReview(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeePerfomanceReview(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="employee_perfomance_review_note">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNewWorkerPerfomanceReview(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Number of workers receiving regular performance and career development reviews</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>

                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newWorkerPerfomanceReview.concat(filteredWorkerPerfomanceReview);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.male }}</td>
                                    <td class="col-sm-3">{{ item.female }}</td>
                                    <td class="col-sm-3">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerPerfomanceReview(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerPerfomanceReview(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerPerfomanceReview(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="workers_perfomance_review_note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitPerfomanceReview('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>

                </div>
            </ng-template>
            <!-- #Title :Training on Health and Safety Measures -->
            <ng-template [formGroup]="trainingHSMeasureForm"
                *ngIf="title.title==='Training on Health and Safety Measures'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeTrainingHSMeasures(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employees - Number of individuals trained</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Employee Category by Level</th>
                                <th>Employee Category by Function</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeTrainingHSMeasures.concat(filteredEmployeeTrainingHSMeasures);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-3">{{ item.employee_category_by_function }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeTrainingHSMeasures(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeTrainingHSMeasures(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeTrainingHSMeasures(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div [formGroup]="socialDisclosureForm" id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="employee_training_hs_measure_note">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2 mt-3 mb-3">
                        <button type="button" class="btn btn-secondary btn-icon-text">
                            Workers - Number of individuals trained</button>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="male">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="female">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Other</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="other">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitTrainingHSMeasures('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>

                </div>
            </ng-template>
            <!-- #Title :Ratio of Basic Salary and Remuneration of Women to Men -->
            <ng-template [formGroup]="salaryratioForm"
                *ngIf="title.title==='Ratio of Basic Salary and Remuneration of Women to Men'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeSalaryRatio(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Ratio Of Basic Salary And Remuneration Of Women To Men- Employees</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="col-sm-4">Employee Category by Level</th>
                                <th class="col-sm-5">Employee Category by Function</th>
                                <!-- <th>Ratio of basic salary and remuneration of women to men using average pay gap</th>
                                <th>Ratio of basic salary and remuneration of women to men using median pay gap</th> -->
                                <th class="col-sm-3">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeSalaryratio.concat(filteredEmployeeSalaryRatio);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-5">{{ item.employee_category_by_function }}</td>
                                    <!-- <td class="col-sm-2">{{ item.employee_median_pay_gap_salary_ratio }}</td>
                                    <td class="col-sm-2">{{ item.employee_average_pay_gap_salary_ratio }}</td> -->
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeSalaryRatio(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeSalaryRatio(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeSalaryRatio(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div [formGroup]="socialDisclosureForm" id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="ratio_of_basic_salary_note">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2 mt-3 mb-3">
                        <button type="button" class="btn btn-secondary btn-icon-text">
                            Ratio Of Basic Salary And Remuneration Of Women To Men- Workers</button>
                    </div>
                    <div class="row">
                                    <div class="col-md-12">
                                        <mat-form-field appearance="outline">
                                            <mat-label>
                                                Ratio of basic salary and remuneration of women to men using average pay
                                                gap
                                            </mat-label>
                                            <input type="number" matInput
                                                formControlName="worker_average_pay_gap_salary_ratio"
                                                [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                                (blur)="roundToTwoDecimals('worker_average_pay_gap_salary_ratio')">
                                            <mat-error>Required Field</mat-error>
                                        </mat-form-field>
                                    </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <mat-form-field appearance="outline">
                                    <mat-label>
                                        Ratio of basic salary and remuneration of women to men using median pay gap
                                    </mat-label>
                                    <input type="number" matInput formControlName="worker_median_pay_gap_salary_ratio"
                                        [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                        (blur)="roundToTwoDecimals('worker_median_pay_gap_salary_ratio')">
                                    <mat-error>Required Field</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div id="esgDisclosure" class="row mb-4 mt-4">
                            <quill-editor
                                [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                placeholder="Notes" [modules]="quillConfig" formControlName="note">
                            </quill-editor>
                        </div>
                        <div class="d-flex justify-content-end gap-2 mb-4">
                            <button (click)="submitSalaryRatio('Open',title)" *ngIf="isButtonVisible(theme)"
                                type="button" class="btn btn-secondary">
                                <i class="feather icon-save btn-icon-prepend"></i>
                                Save
                            </button>
                        </div>

                    </div>
            </ng-template>
            <!-- #Title :Differently Abled Employees -->
            <ng-template *ngIf="title.title==='Differently Abled Employees'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addDifAbledEmployee(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Differently Abled Employees</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>Differently Abled Employee</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newDifferentlyAbledEmployee.concat(filteredDifferentlyAbledEmployees);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.differently_abled_employee }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyDifAbledEmployee(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewDifAbledEmployee(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteDifAbledEmployee(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addDifAbledWorker(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Differently Abled Workers</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Region</th>
                                <th>Differently Abled Workers</th>
                                <th>Age Group</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newDifferentlyAbledWorker.concat(filteredDifferentlyAbledWorkers);let i = index">
                                <ng-container>
                                    <td class="col-sm-1">{{ item.region }}</td>
                                    <td class="col-sm-3">{{ item.differently_abled_worker }}</td>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyDifAbledWorker(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewDifAbledWorker(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteDifAbledWorker(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="dif_abled_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitDifferentlyAbled('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>


                    </div>
                </div>
            </ng-template>
            <!-- #Title :Benefits -->
            <ng-template *ngIf="title.title==='Benefits'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeBenefits(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employee Benefits</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Employees</th>
                                <th>Benefits Provided</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeBenefits.concat( filteredEmployeeBenefits);let i = index">
                                <ng-container>
                                    <td class="col-sm-2">{{ item.employees }}</td>
                                    <td class="col-sm-4">{{ item.benefits_provided }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other}}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeBenefits(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeBenefits(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeBenefits(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addWorkerBenefits(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Worker Benefits</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Workers</th>
                                <th>Benefits Provided</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newWorkerBenefits.concat(filteredWorkersBenefits);let i = index">
                                <ng-container>
                                    <td class="col-sm-2">{{ item.workers }}</td>
                                    <td class="col-sm-4">{{ item.benefits_provided }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerBenefits(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerBenefits(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerBenefits(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="benefits_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitBenefits('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Employee Retirement Benefits -->
            <ng-template *ngIf="title.title==='Employee Retirement Benefits'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeRetirementBenefits(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employee Retirement Benefits</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Benefits Provided</th>
                                <th>Number of Employees Covered</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeRetirementBenefits.concat(filteredEmployeeRetirementBenefits);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.benefits_provided }}</td>
                                    <td class="col-sm-4">{{ item.number_of_employees_covered }}</td>
                                    <td class="col-sm-4"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeRetirementBenefits(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeRetirementBenefits(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeRetirementBenefits(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-grid gap-2 mt-3">
                        <button *ngIf="isButtonVisible(theme)" (click)="addWorkerRetirementBenefits(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Worker Benefits</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Benefits Provided</th>
                                <th>Number of Workers Covered</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newWorkerRetirementBenefits.concat(filteredWorkersRetirementBenefits);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.benefits_provided }}</td>
                                    <td class="col-sm-4">{{ item.number_of_workers_covered }}</td>
                                    <td class="col-sm-4">
                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1"
                                            (click)="ModifyWorkerRetirementBenefits(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewWorkerRetirementBenefits(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteWorkerRetirementBenefits(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="retirement_benefits_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitRetirementBenefits('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>

                    </div>

                </div>
            </ng-template>
            <!-- #Title :Remuneration, Salary and Wages -->
            <ng-template *ngIf="title.title==='Remuneration, Salary and Wages'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addRemunerationSalaryWage(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Remuneration, Salary and Wages</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newRemunerationSalaryWage.concat(filteredRemunerationSalaryWage);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.category }}</td>
                                    <td class="col-sm-2">{{ item.male }}</td>
                                    <td class="col-sm-2">{{ item.female }}</td>
                                    <td class="col-sm-4"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyRemunerationSalaryWage(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewRemunerationSalaryWage(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteRemunerationSalaryWage(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="remuneration_salary_wage_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitRemunerationSalaryWage('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Average Training Hours -->
            <ng-template *ngIf="title.title==='Average Training Hours'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addAverageTrainingHours(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Average Training Hours</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Employee Category by Level</th>
                                <th>Employee Category by Function</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newAverageTrainingHours.concat(filteredAverageTrainingHours);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-3">{{ item.employee_category_by_function }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyAverageTrainingHours(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewAverageTrainingHours(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteAverageTrainingHours(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="average_training_hour_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitAverageTrainingHours('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Employee Diversity -->
            <ng-template *ngIf="title.title==='Employee Diversity'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addEmployeeDiversity(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Employee Diversity</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Age group</th>
                                <th>Employee Category by Level</th>
                                <th>Employee Category by Function</th>
                                <th>Male</th>
                                <th>Female</th>
                                <th>Other</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newEmployeeDiversity.concat(filteredEmployeeDiversity);let i = index">
                                <ng-container>
                                    <td class="col-sm-2">{{ item.age_group }}</td>
                                    <td class="col-sm-2">{{ item.employee_category_by_level }}</td>
                                    <td class="col-sm-2">{{ item.employee_category_by_function }}</td>
                                    <td class="col-sm-1">{{ item.male }}</td>
                                    <td class="col-sm-1">{{ item.female }}</td>
                                    <td class="col-sm-1">{{ item.other }}</td>
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyEmployeeDiversity(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewEmployeeDiversity(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteEmployeeDiversity(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="employee_diversity_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitEmployeeDiversity('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Non-Discrimination -->
            <ng-template *ngIf="title.title==='Non-Discrimination'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addNonDiscrimination(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Non-Discrimination</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Incident ID/Number of Incidents</th>
                                <th>Types of Discrimination</th>
                                <th>Status of the Incidents and Actions Taken</th>
                                <!-- <th>Male</th>
                            <th>Female</th>
                            <th>Other</th> -->
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newNonDiscrimination.concat(filteredNonDiscrimination);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.id_or_number_of_incidents }}</td>
                                    <td class="col-sm-3">{{ item.types_of_discrimination }}</td>
                                    <td class="col-sm-3">{{ item.status_and_action }}</td>
                                    <!-- <td class="col-sm-1">{{ item.male }}</td>
                                <td class="col-sm-1">{{ item.female }}</td>
                                <td class="col-sm-1">{{ item.other }}</td> -->
                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyNonDiscrimination(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewNonDiscrimination(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteNonDiscrimination(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="non_discrimination_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitNonDiscrimination('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Rights of Indigenous People -->
            <ng-template *ngIf="title.title==='Rights of Indigenous People'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addRightsOfIndPeople(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Rights of Indigenous People</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Incident ID/Number of Incidents</th>
                                <th>Status of the Incidents and Actions Taken</th>
                                <!-- <th>Male</th>
                            <th>Female</th>
                            <th>Other</th> -->
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newRightsOfIndPeople.concat(filteredRightsOfIndPeople);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.id_or_number_of_incidents }}</td>
                                    <td class="col-sm-4">{{ item.status_and_action }}</td>
                                    <!-- <td class="col-sm-1">{{ item.male }}</td>
                                <td class="col-sm-1">{{ item.female }}</td>
                                <td class="col-sm-1">{{ item.other }}</td> -->
                                    <td class="col-sm-4"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyRightsOfIndPeople(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewRightsOfIndPeople(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteRightsOfIndPeople(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="rights_of_indigenous_people_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitRightsOfIndPeople('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Close Calls and High-Potential Work-Related Incidents-->
            <ng-template *ngIf="title.title==='Close Calls and High-Potential Work-Related Incidents'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addClosecalls(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Close Calls and High-Potential Work-Related Incidents</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Incident ID</th>
                                <th>Date</th>
                                <th>Type</th>
                                <!-- <th>Male</th>
                            <th>Female</th>
                            <th>Other</th> -->
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newClosecalls.concat(filteredCloseCalls);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.incident_id }}</td>
                                    <td class="col-sm-3">{{ item.date | date:'MMM d, y'}}</td>
                                    <td class="col-sm-3">{{ item.type }}</td>

                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyCloseCalls(item,title.reference_id, i)" ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewCloseCalls(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteCloseCalls(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="close_calls_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitClosecalls('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Human Rights Assessments-->
            <ng-template *ngIf="title.title==='Human Rights Assessments'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addHumanRightsAssessments(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Human Rights Assessments</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Types of Human rights violations</th>
                                <th>Number of plants and offices assessed for Human Rights Violations</th>
                                <th>Assessed By</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newHumanRightsAssessment.concat(filteredHumanRightsAssessment);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.types_of_human_rights_violation }}</td>
                                    <td class="col-sm-3">{{ item.number_of_plants_and_offices }}</td>
                                    <td class="col-sm-3">{{ item.assessed_by }}</td>

                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyHumanRightsAssessments(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewHumanRightsAssessments(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteHumanRightsAssessments(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="human_rights_assessment_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitHumanRightsAssessments('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Human Rights Assessments of Value Chain Partners-->
            <ng-template *ngIf="title.title==='Human Rights Assessments of Value Chain Partners'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addChainpartnersHumanRightsAssessments(title)"
                            type="button" class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Human Rights Assessments of Value Chain Partners</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Types of Human rights violations</th>
                                <th>Total Number of value chain partners</th>
                                <th>Number of value chain partners assessed for Human Rights Violations</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newChainPartenerHumanRightsAssessment.concat(filteredChainPartnerHumanRightsAssessment);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.types_of_human_rights_violation }}</td>
                                    <td class="col-sm-3">{{ item.total_number_of_value_chain_partners }}</td>
                                    <td class="col-sm-3">{{ item.no_of_chain_val_assessed_for_hr_violation }}</td>

                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyChainpartnersHumanRightsAssessments(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewChainpartnersHumanRightsAssessments(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteChainpartnersHumanRightsAssessments(item, i)"
                                            ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="chain_partner_human_rights_assessment_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitChainpartnersHumanRightsAssessments('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Product Recalls-->
            <ng-template *ngIf="title.title==='Product Recalls'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addProductRecalls(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Product Recalls</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Type of Recall</th>
                                <th>Number of product recalls</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newProductRecalls.concat(filteredProductRecalls);let i = index">
                                <ng-container>
                                    <td class="col-sm-4">{{ item.type_of_recall }}</td>
                                    <td class="col-sm-4">{{ item.number_of_product_recalls }}</td>

                                    <td class="col-sm-4"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyProductRecalls(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewProductRecalls(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteProductRecalls(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="product_recalls_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitProductRecalls('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Consumer Complaints-->
            <ng-template *ngIf="title.title==='Consumer Complaints'" ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addConsumerComplaints(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Consumer Complaints</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>category</th>
                                <th>Number of complaints received</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let item of newConsumerComplaints.concat(filteredConsumerComplaints);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.category }}</td>
                                    <td class="col-sm-3">{{ item.no_of_complaints_received }}</td>
                                    <td class="col-sm-3">{{ item.status }}</td>

                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyConsumerComplaints(item,title.reference_id, i)"
                                            ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewConsumerComplaints(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteConsumerComplaints(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="consumer_complaints_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitConsumerComplaints('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Breaches of Customer Privacy and Losses of Customer Data-->
            <ng-template *ngIf="title.title==='Breaches of Customer Privacy and Losses of Customer Data'"
                ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button *ngIf="isButtonVisible(theme)" (click)="addBreaches(title)" type="button"
                            class="btn btn-secondary btn-icon-text"><i
                                class="feather icon-check-square btn-icon-prepend"></i>
                            Add Breaches of Customer Privacy and Losses of Customer Data</button>
                    </div>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Type of Data Breach</th>
                                <th>Cause of Data Breach</th>
                                <th>Number of instances of customer Data Breaches</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of newBreaches.concat(filteredBreaches);let i = index">
                                <ng-container>
                                    <td class="col-sm-3">{{ item.type_of_data_breach }}</td>
                                    <td class="col-sm-3">{{ item.cause_of_data_breach }}</td>
                                    <td class="col-sm-3">{{ item.number_of_instances }}</td>

                                    <td class="col-sm-3"> <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-success btn-icon btn-xs action-btn me-1 "
                                            (click)="ModifyBreaches(item,title.reference_id, i)" ngbTooltip="Modify">
                                            <i class="feather icon-edit"></i>
                                        </button>

                                        <button type="button" class="btn btn-primary btn-icon btn-xs action-btn me-1"
                                            (click)="viewBreaches(item)" ngbTooltip="View">
                                            <i class="feather icon-eye"></i>
                                        </button>

                                        <button *ngIf="isButtonVisible(theme)" type="button"
                                            class="btn btn-danger btn-icon btn-xs action-btn"
                                            (click)="deleteBreaches(item, i)" ngbTooltip="Delete">
                                            <i class="feather icon-trash-2"></i>
                                        </button>
                                    </td>
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div id="esgDisclosure" class="row mb-4 mt-4">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="breaches_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button (click)="submitBreaches('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Employee Association(s) or Union-->

            <ng-template [formGroup]="employeeUnionForm" *ngIf="title.title==='Employee Association(s) or Union'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees who are part of association(s) or Union</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_male_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_female_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="employee_union_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of workers who are part of association(s) or Union</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_male_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_female_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="workers_union_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!employeeUnionForm.valid" (click)="submitUnion('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Political Contributions-->

            <ng-template [formGroup]="politicalContributionForm" *ngIf="title.title==='Political Contributions'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Monetary Value of Financial and In-kind Political Contributions Made Directly and
                            Indirectly</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Amount</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="amount">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Currency</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="currency">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                            <!-- <mat-form-field appearance="outline">
                                <mat-label>Currency </mat-label>
                                <mat-select formControlName="currency">
                                    <mat-option *ngFor="let data of lov[29]?.value" [value]="data">
                                        <span>{{ data }}
                                        </span>
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field> -->
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!politicalContributionForm.valid"
                            (click)="submitPoliticalContribution('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :CSR Projects-->

            <ng-template [formGroup]="CSRProjectForm" *ngIf="title.title==='CSR Projects'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">

                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Name of the project</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="project_name">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>State</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="state">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>District</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="district">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">

                            <mat-form-field appearance="outline">
                                <mat-label>Theme </mat-label>
                                <mat-select formControlName="theme"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-option *ngFor="let data of lov[19]?.value" [value]="data.Value">
                                        <span>{{ data.Value }}
                                        </span>
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Amount Spent</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="amount_spent">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Currency</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="unit">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Total Beneficiaries</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="total_beneficiaries">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-8">
                            <mat-form-field appearance="outline">
                                <mat-label>Beneficiaries belonging to vulnerable and marginalized groups</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="vulnerable_groups_beneficiaries">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>


                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!CSRProjectForm.valid" (click)="submitCSRProject('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Health and Safety Assessments of Value Chain Partners-->

            <ng-template [formGroup]="HSAssessValueChainPartnerForm"
                *ngIf="title.title==='Health and Safety Assessments of Value Chain Partners'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Total Number of Value Chain Partners</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="total_value_chain_partners">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of value chain partners assessed for Health and Safety
                                    practices</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="value_chain_partners_health_safety">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of value chain partners assessed for Working Conditions</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="value_chain_partners_working_conditions">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!HSAssessValueChainPartnerForm.valid"
                            (click)="submitHSAssessValueChainPartners('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Work- Related Ill Health-->

            <ng-template [formGroup]="workRelatedIllHealthForm" *ngIf="title.title==='Work- Related Ill Health'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of cases of work-related ill health</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="ill_health_cases_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="ill_health_cases_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of fatalities as a result of work-related ill health</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="fatalities_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="fatalities_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of individuals rehabilitated and placed in suitable employment or family members have
                            been placed
                            in suitable employment</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="rehabilitated_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="rehabilitated_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Description" [modules]="quillConfig" formControlName="description">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!workRelatedIllHealthForm.valid" (click)="submitWorkIllHealth('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Work-Related Injuries-->

            <ng-template [formGroup]="workInjuryForm" *ngIf="title.title==='Work-Related Injuries'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of fatalities as a result of work-related injuries</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="fatalities_injuries_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="fatalities_injuries_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of high consequence work-related injury</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="high_consequence_injuries_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="high_consequence_injuries_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of minor injuries</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="minor_injuries_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="minor_injuries_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of injuries as a result of commuting incidents</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="commuting_injuries_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="commuting_injuries_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of lost time injuries</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="lost_time_injuries_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="lost_time_injuries_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of days lost due to injury</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="days_lost_injury_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="days_lost_injury_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of individuals rehabilitated and placed in suitable employment or family members have
                            been placed
                            in suitable employment</button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of workers who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="rehabilitated_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="rehabilitated_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Description" [modules]="quillConfig" formControlName="description">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!workInjuryForm.valid" (click)="submitWorkInjury('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Negative Social Impacts in the Supply Chain-->

            <ng-template [formGroup]="negativeSocImpactForm"
                *ngIf="title.title==='Negative Social Impacts in the Supply Chain'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Provide the number of suppliers</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Assessed for social impacts</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="assessed_social_impacts">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Identified as having significant actual and potential negative social
                                    impacts</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="significant_social_impacts_identified">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="mat-hint long-hint">Identified as having significant actual and potential
                                negative social impacts
                                with which
                                improvements were agreed upon as a result of
                                assessment</span>
                            <mat-form-field appearance="outline">
                                <!-- <mat-label>Identified as having significant actual and potential negative social impacts
                                    with which
                                    improvements were agreed upon as a result of
                                    assessment</mat-label> -->
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="social_impacts_improvements_agreed">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="mat-hint long-hint">Identified as having significant actual and potential
                                negative social impacts
                                with which
                                relationships were terminated as a result of
                                assessment</span>
                            <mat-form-field appearance="outline">
                                <!-- <mat-label>Identified as having significant actual and potential negative social impacts
                                    with which
                                    relationships were terminated as a result of
                                    assessment</mat-label> -->
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="social_impacts_relationships_terminated">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <!-- <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Details on the termination of relationships as a result of
                                    assessment</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="termination_details">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div> -->
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Details on the termination of relationships as a result of assessment"
                            [modules]="quillConfig" formControlName="termination_details">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!negativeSocImpactForm.valid" (click)="submitNegSocImpacts('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Marketing Communications-->

            <ng-template [formGroup]="marketingComminicationForm" *ngIf="title.title==='Marketing Communications'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of incidents of non-compliance concerning marketing communications with
                            regulations</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a fine or penalty</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_fine_or_penalty">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a warning</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_warning">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>With voluntary codes</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="with_voluntary_codes">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="If the organization has not identified any non-compliance with regulations and/or voluntary codes, a brief statement of this fact is sufficient"
                            [modules]="quillConfig" formControlName="non_compliance_statement">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!marketingComminicationForm.valid"
                            (click)="submitMarketingCommmunication('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Product and Service Information and Labeling-->

            <ng-template [formGroup]="prdServiceInfoLabelForm"
                *ngIf="title.title==='Product and Service Information and Labeling'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of incidents of non-compliance concerning product and service information and
                            labeling with
                            regulations</button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees who are part of association(s) or Union</p>
                    </div> -->
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a fine or penalty</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_fine_or_penalty">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a warning</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_warning">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>With voluntary codes</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="with_voluntary_codes">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="If the organization has not identified any non-compliance with regulations and/or voluntary codes, a brief statement of this fact is sufficient"
                            [modules]="quillConfig" formControlName="non_compliance_statement">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!prdServiceInfoLabelForm.valid"
                            (click)="submitProductServiceLabeling('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Customer Health and Safety-->

            <ng-template [formGroup]="customerHSForm" *ngIf="title.title==='Customer Health and Safety'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of incidents of non-compliance concerning the health and safety
                                    impacts of
                                    products and services</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="non_compliance_incidents_health_safety">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a fine or penalty</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_fine_or_penalty">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Resulting in a warning</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="resulting_in_warning">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>With voluntary codes</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="with_voluntary_codes">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="If the organization has not identified any non-compliance with regulations and/or voluntary codes, a brief statement of this fact is sufficient"
                            [modules]="quillConfig" formControlName="non_compliance_statement">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!customerHSForm.valid" (click)="submitCustomerHS('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Security Personnel Trained in Human Rights Policies-->

            <ng-template [formGroup]="SecurityPersonalHRPolicyForm"
                *ngIf="title.title==='Security Personnel Trained in Human Rights Policies'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of security personnel who are employees of the
                                    organization</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="org_security_personnel_count">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="mat-hint long-hint">Number of security personnel who are employees of the
                                organization and have
                                received formal training in the organization’s human rights policies or specific
                                procedures
                                and their application to security</span>
                            <mat-form-field appearance="outline">
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="org_trained_security_personnel_count">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of security personnel who are employees of third-party
                                    organizations</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="third_party_security_personnel_count">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="mat-hint long-hint">Number of security personnel who are employees of
                                third-party organizations
                                and have
                                received formal training in the organization’s human rights policies or specific
                                procedures and
                                their application to security</span>
                            <mat-form-field appearance="outline">
                                <!-- <mat-label>Number of security personnel who are employees of third-party organizations
                                    and have
                                    received formal training in the organization’s human rights policies or specific
                                    procedures and
                                    their application to security</mat-label> -->
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput
                                    formControlName="third_party_trained_security_personnel_count">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>

                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!SecurityPersonalHRPolicyForm.valid"
                            (click)="submitSecurityPersonalHRPolicy('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Occupational Health and Safety Management System-->

            <ng-template [formGroup]="occHealthSafetyMngForm"
                *ngIf="title.title==='Occupational Health and Safety Management System'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of individuals who are covered by occupational health and safety management
                            system</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_covered_ohs_mng_system">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_covered_ohs_mng_system">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of individuals who are covered by occupational health and safety management system
                            that has been internally audited</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_covered_ohs_mng_system_int_audited">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_covered_ohs_mng_system_int_audited">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of individuals who are covered by occupational health and safety management system
                            that has been audited or certified by an external party</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput
                                    formControlName="emp_covered_ohs_mng_system_ext_audited_certified">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput
                                    formControlName="wrk_covered_ohs_mng_system_ext_audited_certified">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!occHealthSafetyMngForm.valid" (click)="submitOHSMngSystem('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Working Hours-->

            <ng-template [formGroup]="workingHoursForm" *ngIf="title.title==='Working Hours'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Rates Calculation Factor</button>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Select the calculation Factor </mat-label>
                                <mat-select formControlName="calculation_factor"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-option *ngFor="let data of lov[18]?.value" [value]="data.Value">
                                        <span>{{ data.Value }}
                                        </span>
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Total Hours Worked</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Total Hours Worked by Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="employees_worked_hours">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Total Hours Worked by Workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="workers_worked_hours">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!workingHoursForm.valid" (click)="submitWorkingHours('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Complaints On Human Rights Violations-->

            <ng-template [formGroup]="ComplaintsOnHRForm" *ngIf="title.title==='Complaints On Human Rights Violations'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Type of Human rights violations </mat-label>
                                <mat-select formControlName="type_of_violation"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-option *ngFor="let data of lov[21]?.value" [value]="data.value">
                                        <span class="option-container">{{ data.value }}
                                            <span>
                                                <i class="feather icon-edit modifyicon"
                                                    (click)="modifyTypeofHumanRightsViolation(data)"></i>
                                                <i class="feather icon-trash-2 deleteicon"
                                                    (click)="deleteTypeofHumanRightsViolation(data)"></i>
                                            </span>
                                        </span>
                                    </mat-option>
                                    <mat-option (click)="newTypeOfHumanRightsViolation()" class="option-btn">
                                        <i class="mdi mdi-plus-circle"></i> Create New Type of Human Rights Violation
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints made by employees and workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_complaints">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints resolved</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_complaints_resolved">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-8">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints pending as on the close of the reporting
                                    period</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_complaints_pending">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Remarks" [modules]="quillConfig" formControlName="remarks">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!ComplaintsOnHRForm.valid" (click)="submitComplaintsOnHR('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Complaints related to Occupational Health and Safety Management System-->

            <ng-template [formGroup]="complaintsOccHealthSafetyMngForm"
                *ngIf="title.title==='Complaints related to Occupational Health and Safety Management System'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Working Conditions</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints by employees and workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_wrk_condition_complaints">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints resolved</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_wrk_condition_complaints_solved">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints pending</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_wrk_condition_complaints_pending">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Health and Safety</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints by employees and workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_health_complaints">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints resolved</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_health_complaints_solved">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of complaints pending</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_health_complaints_pending">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="health_complaints_note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!complaintsOccHealthSafetyMngForm.valid"
                            (click)="submitOHSMngSystemComplaints('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Training on Human Rights Issues and Policies-->

            <ng-template [formGroup]="trainingOnHRIssuePolicyForm"
                *ngIf="title.title==='Training on Human Rights Issues and Policies'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Employees trained on human rights issues and policies</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of Permanent Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_permanent_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of Temporary Employees</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_temporary_employees">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Workers trained on human rights issues and policies</button>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of permanent workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_permanent_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of temporary workers</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_temporary_workers">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!trainingOnHRIssuePolicyForm.valid" (click)="submitHRTraining('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Rehabilitation and Resettlement (R&R)-->

            <ng-template [formGroup]="RandRForm" *ngIf="title.title==='Rehabilitation and Resettlement (R&R)'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">

                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Name of Project for which R&R is ongoing</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="name_of_project">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field appearance="outline">
                                <mat-label>State</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="state">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field appearance="outline">
                                <mat-label>District</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="district">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of Project
                                    Affected Families (PAFs)</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_pafs">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Percentage of PAFs
                                    covered by
                                    R&R (%)</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="percentage_of_pafs">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Amounts
                                    paid to PAFs (INR)</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="amount_paid_for_pafs">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!RandRForm.valid" (click)="submitRandR('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Social Impact Assessments (SIA) of Projects-->

            <ng-template [formGroup]="SIAProjectForm"
                *ngIf="title.title==='Social Impact Assessments (SIA) of Projects'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">

                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Name of the project</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="name_of_project">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>SIA notification number</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="text" matInput formControlName="notification_number">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field fxFlex appearance="outline" color="warning">
                                <mat-label> Date of Notification</mat-label>
                                <input matInput [matDatepicker]="date" formControlName="notification_date" value="date"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
                                <mat-datepicker #date></mat-datepicker>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-7">
                            <mat-form-field appearance="outline">
                                <mat-label>Whether conducted by independent external agency</mat-label>
                                <mat-select formControlName="whether_conducted_by_ind_ext_agency"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-option [value]="true">Yes</mat-option>
                                    <mat-option [value]="false">No</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="col-md-5">
                            <mat-form-field appearance="outline">
                                <mat-label>Results communicated in public domain</mat-label>
                                <mat-select formControlName="results_communicated_in_public_domain"
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-option [value]="true">Yes</mat-option>
                                    <mat-option [value]="false">No</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Brief details of project" [modules]="quillConfig"
                            formControlName="brief_details">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Details of actions taken to mitigate any negative social impacts identified in the Social Impact Assessments"
                            [modules]="quillConfig" formControlName="mitigation_actions_social_impacts">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Corrective actions taken" [modules]="quillConfig"
                            formControlName="corrective_actions_taken">
                        </quill-editor>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!SIAProjectForm.valid" (click)="submitSIAProject('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Assessment of Products and Services-->

            <ng-template [formGroup]="productServiceAssesmentForm"
                *ngIf="title.title==='Assessment of Products and Services'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <span class="mat-hint long-hint">Number of product or service categories covered by and
                                assessed for product
                                and service information and labelling compliance</span>
                            <mat-form-field appearance="outline">
                                <!-- <mat-label>Number of product or service categories covered by and assessed for product
                                    and service information and labelling compliance</mat-label> -->
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="num_product_service_health_safety_assessed">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of product and service categories for which health and safety impacts
                                    are assessed for improvement</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput
                                    formControlName="num_product_service_info_labelling_compliance">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Note" [modules]="quillConfig"
                            formControlName="product_service_assessment_note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!productServiceAssesmentForm.valid"
                            (click)="submitProductServiceAssessment('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Health and Safety Assessments-->

            <ng-template [formGroup]="healthSafetyAssessmentForm" *ngIf="title.title==='Health and Safety Assessments'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">

                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of Plants and Offices Assessed for Health and Safety
                                    Practices</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_plants_offices_hs_practice">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of Plants and Offices Assessed for Working Conditions</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="no_of_plants_offices_wrk_condition">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field fxFlex appearance="outline" color="primary">
                                <mat-label>Assessed by</mat-label>
                                <mat-select formControlName="assessed_by" multiple
                                    [disabled]="!roles.split(',').includes('Contributor') && theme.status === 'Open'">
                                    <mat-select-trigger>
                                        {{
                                        assessedByControl?.value?.length ?
                                        assessedByControl?.value[0] : ''
                                        }}
                                        <span *ngIf="assessedByControl?.value?.length > 1"
                                            class="example-additional-selection">
                                            (+{{ assessedByControl?.value.length - 1 }}
                                            {{ assessedByControl?.value.length === 2 ? 'other' : 'others' }})
                                        </span>
                                    </mat-select-trigger>
                                    <mat-option *ngFor="let data of lov[16]?.value" [value]="data.Value">
                                        {{ data.Value }}
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>

                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="health_safety_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!healthSafetyAssessmentForm.valid"
                            (click)="submitHSAssessments('Open',title)" *ngIf="isButtonVisible(theme)" type="button"
                            class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Workers other than Employees Details-->

            <ng-template [formGroup]="workersOtherthanEmployeesForm"
                *ngIf="title.title==='Workers other than Employees Details'" ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">

                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field fxFlex appearance="outline" color="primary">
                                <mat-label>Workers</mat-label>
                                <mat-select formControlName="workers" multiple
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-select-trigger>
                                        {{
                                        workersByControl?.value?.length ?
                                        workersByControl?.value[0] : ''
                                        }}
                                        <span *ngIf="workersByControl?.value?.length > 1"
                                            class="example-additional-selection">
                                            (+{{ workersByControl?.value.length - 1 }}
                                            {{ workersByControl?.value.length === 2 ? 'other' : 'others' }})
                                        </span>
                                    </mat-select-trigger>
                                    <mat-option *ngFor="let data of lov[28]?.value" [value]="data.Value">
                                        {{ data.Value }}
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>

                        </div>
                        <div class="col-md-6">
                            <mat-form-field fxFlex appearance="outline" color="primary">
                                <mat-label>Age Group</mat-label>
                                <mat-select formControlName="age_group" multiple
                                    [disabled]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)">
                                    <mat-select-trigger>
                                        {{
                                        ageGroupByControl?.value?.length ?
                                        ageGroupByControl?.value[0] : ''
                                        }}
                                        <span *ngIf="ageGroupByControl?.value?.length > 1"
                                            class="example-additional-selection">
                                            (+{{ ageGroupByControl?.value.length - 1 }}
                                            {{ ageGroupByControl?.value.length === 2 ? 'other' : 'others' }})
                                        </span>
                                    </mat-select-trigger>
                                    <mat-option *ngFor="let data of lov[2]?.value" [value]="data.Value">
                                        {{ data.Value }}
                                    </mat-option>
                                </mat-select>
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>

                        </div>


                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="male">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="female">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field appearance="outline">
                                <mat-label>Other</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="other">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="note">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!workersOtherthanEmployeesForm.valid"
                            (click)="submitWorkersOtherThanEmployees('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Supplier Social Assessment-->

            <ng-template [formGroup]="supplierSocAssessmentForm" *ngIf="title.title==='Supplier Social Assessment'"
                ngbPanelContent>
                <div class="table-responsive pt-2" id="socialChecklist">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field appearance="outline">
                                <mat-label>Number of new suppliers that were screened
                                    using social criteria</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput
                                    formControlName="number_of_suppliers_screened_social_criteria">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>

                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="supplier_soc_assessment_notes">
                        </quill-editor>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!supplierSocAssessmentForm.valid"
                            (click)="submitSupplierSocAssessment('Open',title)" *ngIf="isButtonVisible(theme)"
                            type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
            <!-- #Title :Parental Leave for Employees/Workers-->

            <ng-template [formGroup]="parentalLeaveForm" *ngIf="title.title==='Parental Leave for Employees/Workers'"
                ngbPanelContent>
                <div class="table-responsive pt-3" id="socialChecklist">
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers that were entitled to parental leave</button>
                    </div>
                    <!-- <div style=" text-align: center;background-color:  teal;" class="row mb-1">
                        <p class=" mb-1">Number of Employees/workers that were entitled to parental leave</p>
                    </div> -->
                    <div style="text-align: center;" class="row mt-1 mb-1">
                        <p class="mb-1">Number of Employees</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_entitled_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_entitled_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="emp_entitled_parental_leave_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_entitled_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_entitled_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="wrk_entitled_parental_leave_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers that took parental leave
                        </button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees/workers that took parental leave</p>
                    </div> -->
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_took_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_took_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="emp_took_parental_leave_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_took_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_took_parental_leave">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig" formControlName="wrk_took_parental_leave_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers that returned to work in the reporting period after parental
                            leave ended </button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees/workers that returned to work in the reporting period after parental leave ended</p>
                    </div> -->
                    <div style="text-align: center;" class="row">
                        <p class="mt-1 mb-1">Number of Employees</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_returned_work_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_returned_work_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="emp_returned_work_reporting_period_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_returned_work_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_returned_work_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="wrk_returned_work_reporting_period_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers that returned to work after parental leave ended that were still
                            employed 12 months after their return to work
                        </button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees/workers that returned to work after parental leave ended that were still employed 12 months after their return to work</p>
                    </div> -->
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees</p>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_retained_12m_after_return">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_retained_12m_after_return">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="emp_retained_12m_after_return_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_retained_12m_after_return">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_retained_12m_after_return">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="wrk_retained_12m_after_return_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers due to return to work in the reporting period after taking
                            parental leave </button>
                    </div>
                    <!-- <div class="row">
                        <p class="mt-1 mb-1">Number of Employees/workers due to return to work in the reporting period after taking parental leave</p>
                    </div> -->
                    <div style="text-align: center;" class="row">
                        <p class="mt-1 mb-1">Number of Employees</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_due_return_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_due_return_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="emp_due_return_reporting_period_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_due_return_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_due_return_reporting_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="wrk_due_return_reporting_period_notes">
                        </quill-editor>
                    </div>
                    <div class="d-grid gap-2">
                        <button class="btn btn-secondary btn-icon-text mb-2">
                            Number of Employees/workers returning from parental leave in the prior reporting period(s)
                        </button>
                    </div>
                    <!-- <div class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees/workers returning from parental leave in the prior reporting period(s)</p>
                    </div> -->
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Employees</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_male_returned_prior_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="emp_female_returned_prior_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="emp_returned_prior_period_notes">
                        </quill-editor>
                    </div>
                    <div style="text-align: center;" class="row mt-3">
                        <p class="mt-1 mb-1">Number of Workers</p>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Male</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_male_returned_prior_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field appearance="outline">
                                <mat-label>Female</mat-label>
                                <input
                                    [readonly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                                    type="number" matInput formControlName="wrk_female_returned_prior_period">
                                <mat-error>Required Field</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div id="esgDisclosure" class="row mb-4 ">
                        <quill-editor
                            [readOnly]="!(((roles && roles.split(',').includes('Contributor')) && (theme && theme.status === 'Open')) || esgHead)"
                            placeholder="Notes" [modules]="quillConfig"
                            formControlName="wrk_returned_prior_period_notes">
                        </quill-editor>
                    </div>
                    <div class="d-flex justify-content-end gap-2 mb-4">
                        <button [disabled]="!parentalLeaveForm.valid" (click)="submitParentalLeave('Open',title)"
                            *ngIf="isButtonVisible(theme)" type="button" class="btn btn-secondary">
                            <i class="feather icon-save btn-icon-prepend"></i>
                            Save
                        </button>
                    </div>
                </div>
            </ng-template>
        </ngb-panel>
    </ngb-accordion>
    <!--Theme Status Button Updating Section -->
    <!-- Diversity and Equal Opportunity -->
    <div *ngIf="theme.theme=== 'Diversity and Equal Opportunity'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeDiversityAndEqualOppStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeDiversityAndEqualOppStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeDiversityAndEqualOppStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeDiversityAndEqualOppStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeDiversityAndEqualOppStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeDiversityAndEqualOppStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Employees -->
    <div *ngIf="theme.theme=== 'Employees'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeEmployeesStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeEmployeesStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeEmployeesStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeEmployeesStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeEmployeesStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeEmployeesStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Human Resource and Development -->
    <div *ngIf="theme.theme=== 'Human Resource and Development'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeHumanResourceDevelopmentStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeHumanResourceDevelopmentStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeHumanResourceDevelopmentStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeHumanResourceDevelopmentStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeHumanResourceDevelopmentStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeHumanResourceDevelopmentStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
        <!-- <div *ngIf="roles.split(',').includes('Reviewer')&& theme.status === 'Submitted for Review' " class="btn-group"
            ngbDropdown role="group">
            <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle>Review Status</button>
            <div ngbDropdownMenu>
                <button (click)="updateThemeHumanResourceDevelopmentStatus('Submitted for Approval',theme)"
                    ngbDropdownItem>Review Passed</button>
                <button (click)="updateThemeHumanResourceDevelopmentStatus('Review Failed',theme)"
                    ngbDropdownItem>Review
                    Failed</button>
            </div>
        </div>

        <div *ngIf="roles.split(',').includes('Approver')&& theme.status === 'Submitted for Approval' "
            class="btn-group" ngbDropdown role="group">
            <button class="btn btn-primary dropdown-toggle-split" ngbDropdownToggle>Approval Status</button>
            <div ngbDropdownMenu>
                <button (click)="updateThemeHumanResourceDevelopmentStatus('Approved',theme)"
                    ngbDropdownItem>Approved</button>
                <button (click)="updateThemeHumanResourceDevelopmentStatus('Rejected',theme)"
                    ngbDropdownItem>Rejected</button>
            </div>
        </div> -->
    </div>
    <!--Training and Education -->
    <div *ngIf="theme.theme=== 'Training and Education'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeTrainingEducationStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeTrainingEducationStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeTrainingEducationStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeTrainingEducationStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeTrainingEducationStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeTrainingEducationStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Occupational Health and Safety -->
    <div *ngIf="theme.theme=== 'Occupational Health and Safety'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeOccupationalHealthSafetyStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeOccupationalHealthSafetyStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeOccupationalHealthSafetyStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeOccupationalHealthSafetyStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeOccupationalHealthSafetyStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeOccupationalHealthSafetyStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Local Communities -->
    <div *ngIf="theme.theme=== 'Local Communities'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeLocalCommunitiesStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeLocalCommunitiesStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeLocalCommunitiesStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeLocalCommunitiesStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeLocalCommunitiesStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeLocalCommunitiesStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Human Rights -->
    <div *ngIf="theme.theme=== 'Human Rights'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeHumanRightsStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeHumanRightsStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeHumanRightsStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeHumanRightsStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeHumanRightsStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeHumanRightsStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Product Service Accountability -->
    <div *ngIf="theme.theme=== 'Product Service Accountability'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeProductServiceAccountabilityStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeProductServiceAccountabilityStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeProductServiceAccountabilityStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeProductServiceAccountabilityStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeProductServiceAccountabilityStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeProductServiceAccountabilityStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Social Supply Chain Management -->
    <div *ngIf="theme.theme=== 'Social Supply Chain Management'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeSocialSupplyChainManagementStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeSocialSupplyChainManagementStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeSocialSupplyChainManagementStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeSocialSupplyChainManagementStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeSocialSupplyChainManagementStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeSocialSupplyChainManagementStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Public Policy -->
    <div *ngIf="theme.theme=== 'Public Policy'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemePublicPolicyStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemePublicPolicyStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemePublicPolicyStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemePublicPolicyStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemePublicPolicyStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemePublicPolicyStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <!--Workers other than Employees -->
    <div *ngIf="theme.theme=== 'Workers other than Employees'" class="d-flex justify-content-end mt-3 gap-2 mb-4">
        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Submitted for Review',theme)"
            *ngIf="roles.split(',').includes('Contributor') && theme.status === 'Open'&&disclosureMode!=='view'"
            type="button" class="btn btn-success">
            <i class="feather icon-send btn-icon-prepend"></i>
            Submit
        </button>
        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Review Failed',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>
        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Submitted for Approval',theme)"
            *ngIf="roles.split(',').includes('Reviewer') && theme.status === 'Submitted for Review'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Review Passed
        </button>
        <button *ngIf=" theme.status === 'Review Failed'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Review Failed
        </button>

        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Rejected',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Approved',theme)"
            *ngIf="roles.split(',').includes('Approver') && theme.status === 'Submitted for Approval'&&disclosureMode!=='view'"
            type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Approved'" type="button" class="btn btn-primary">
            <i class="feather icon-check-circle btn-icon-prepend"></i>
            Approved
        </button>
        <button *ngIf=" theme.status === 'Rejected'" type="button" class="btn btn-danger">
            <i class="feather icon-x-circle btn-icon-prepend"></i>
            Rejected
        </button>
        <button (click)="updateThemeWorkersotherthanEmployeesStatus('Open',theme)"
            *ngIf="roles.split(',').includes('Contributor') && (theme.status === 'Rejected' || theme.status === 'Review Failed')"
            type="button" class="btn btn-warning">
            <i class="feather icon-book-open"></i>
            Re-Open
        </button>
    </div>
    <hr class="my-2 w-100">
</div>
<div class="d-flex justify-content-end mt-3 gap-2 mb-4"
    *ngIf="allThemesHaveRequiredStatus() && !allThemesAreFullyProcessed() && roles.split(',').includes('Approver')&&disclosureMode!=='view'">

    <button (click)="updateAllThemeStatus('Reject All')" type="button" class="btn btn-danger">
        <i class="feather icon-x-circle btn-icon-prepend"></i>
        Reject All
    </button>

    <button (click)="updateAllThemeStatus('Approve All')" type="button" class="btn btn-success">
        <i class="feather icon-check-circle btn-icon-prepend"></i>
        Approve All
    </button>

</div>