<div class="container-fluid">
    <div class="row" [formGroup]="Form">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <div class="container-fluid d-flex justify-content-between header">
                        <div class="col-lg-8 ps-0">
                            <a routerLink="." class="nobleui-logo d-block mt-3">Satisfaction<span>
                                    Survey</span></a>
                            <h6 class=" mb-2 pb-3"># {{Form.value.reference_number}}</h6>
                        </div>
                        <div class="col-lg-4 pe-0">
                            <h6 class="fw-bold text-end mt-4 mb-2">Date</h6>
                            <h6 class="text-end mb-5 ">{{Form.value.created_date| date:'MMM d, y'}}</h6>
                        </div>
                    </div>
                    <div class="container-fluid  d-flex justify-content-center w-100">
                        <div class="table-responsive w-100">
                            <div class="row">
                                <div class="col-md-12">
                                    <quill-editor placeholder="Question" [modules]="quillConfig"
                                        formControlName="question">
                                    </quill-editor>
                                </div>
                            </div>
                            
                            <div class="row " *ngIf="showNewField">

                                <div class="col-md-12">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Multiple Choice Options</mat-label>
                                        <input type="text" matInput formControlName="multiplechoice_options">
                                        <mat-error>Required Field</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <mat-form-field fxFlex appearance="outline">
                                        <mat-label>Tags</mat-label>
                                        <mat-chip-list #primaryChipList aria-label="Tags">
                                            <mat-chip *ngFor="let tag of tags">
                                                {{tag}}
                                                <button matChipRemove>
                                                    <mat-icon>cancel</mat-icon>
                                                </button>
                                            </mat-chip>
                                            <input placeholder="Tags..." #tagInput [formControl]="tagCtrl"
                                                [matAutocomplete]="primaryAuto" [matChipInputFor]="primaryChipList"
                                                [matChipInputSeparatorKeyCodes]="separatorKeysCodes">
                                        </mat-chip-list>
                                        <mat-autocomplete #primaryAuto="matAutocomplete" disabled="true">
                                            <mat-option *ngFor="let tag of filteredtag | async" [value]="tag">
                                                {{tag}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                            </div>
                           
                            <!-- <div class="row mt-3">
                                <div class="custom-dropzone" ngx-dropzone [accept]="'image/*'"
                                    >
                                    <ngx-dropzone-label>Drop your evidences here. Please ensure the image
                                        size is less than 2 MB</ngx-dropzone-label>
                                    <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" [removable]="false"
                                        *ngFor="let f of files" [file]="f" >
                                    </ngx-dropzone-image-preview>
                                </div>
                            </div> -->
                            <div class="row">
                                <h6 class="mt-3">Question Image</h6>
                            </div>
                            <div class="row image">
                                <a href="" (click)="false" class="col-md-2 ps-1 pe-1"
                                    *ngFor="let image of files; let i=index">
                                    <figure class="mt-2">
                                        <img class="img-fluid rounded" [src]="image.src" (click)="open(i)" width="150"
                                            alt="">
                                    </figure>
                                </a>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-12">


                                    <div class="row language-overflow">
                                        <div class="table-responsive pt-3" id="language">
                                            <table class="table table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 15px;">SlNo</th>
                                                        <th>Language</th>
                                                        <th>Question</th>
                                                        <th style="width: 15px;">Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let data of multiLanguage; let i = index">
                                                        <td>{{ i + 1 }}</td>
                                                        <td>{{data.language}}</td>
                                                        <td [innerHTML]="getTruncatedQuestion(data.question)"></td>
                                                        <td>
                                                            <button type="button"
                                                                class="btn btn-primary btn-icon btn-xs action-btn "
                                                                (click)="viewLanguage(data)" ngbTooltip="View">
                                                                <i class="feather icon-eye"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">
                    <div class="mt-3">
                        <button class="btn btn-primary" mat-icon-button aria-label="Example icon-button with a menu">

                            <i class=" btn-icon-prepend"></i> {{Form.value.status}}
                        </button>

                        &nbsp; <button routerLink="/apps/satisfaction-survey/question-history"
                            class="btn btn-success status-btn" mat-icon-button
                            aria-label="Example icon-button with a menu">
                            <i class="feather icon-chevron-left"></i> Back to Question Bank

                        </button>
                    </div>

                    <!-- <div class="mt-3">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Business Unit</mat-label>
                            <input type="text" matInput formControlName="business_unit">
                            <mat-error>Required Field</mat-error>
                        </mat-form-field>
                    </div> -->
                    <div class="mt-3">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Survey Category</mat-label>
                            <input type="text" matInput formControlName="category">
                            <mat-error>Required Field</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="mt-3">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Question Category</mat-label>
                            <!-- <mat-select formControlName="question_category">
                                    <mat-option *ngFor="let questioncategory of questioncategories"
                                        value="{{questioncategory.attributes.Value}}">
                                        {{questioncategory.attributes.Value}}</mat-option>
                                </mat-select> -->
                            <input type="text" matInput formControlName="question_category">
                            <mat-error>Required Field</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="mt-3">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Response Type </mat-label>
                            <input type="text" matInput formControlName="response_options">
                            <mat-error>Required Field</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="mt-3">
                        <mat-form-field appearance="outline">
                            <mat-label>Question Weightage</mat-label>
                            <input type="number" matInput formControlName="question_weighting">
                            <mat-error>Required Field</mat-error>
                        </mat-form-field>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>